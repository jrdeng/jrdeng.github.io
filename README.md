# A blog that uses GitHub Issues as its database

A hexo site that uses Github Issues as input, and generated by using Github Actions when issues change or `hexo` folder or `build` folder changed.

`github issues` --> `issues.json` --> `hexo` --> `Github Pages`

My Blog: [wuming.me](https://wuming.me)

## Key steps

- Github Actions [.github/workflows/main.yml](.github/workflows/main.yml) will be triggered when issues change or `hexo` folder or `build` folder changed. It will install dependencies and run following scripts.
- `1_query_issues.py` - Query issues in specific repo by using GraphQL and save issues in `issues.json`.
- `2_issues_to_posts.py` - Parse `issues.json` and generate hexo posts into `hexo/source/_posts/`.
- `3_gen.sh` - Run hexo to generate static site.
- Use `actions/upload-pages-artifact` to upload artifact.
- Use `actions/deploy-pages` to deploy the page.

NOTE: issues.json and _posts/* are in the .gitignore by default.

## Customization

1. Copy/Clone this repo. Set `GitHub Actions` as Github Pages source.
2. Modify `hexo/_config.yml` to configure your site info.
3. Modify `hexo/themes/maupassant/_config.yml` to configure your theme (nav bar, sider bar etc.), or use your favorite theme instead.
4. The `hexo/source/about/index.md` is the about page. You can modify it accordinly.
5. By default, the Github Action query issues from current repo. You can modify `.github/workflows/main.yml` to query issues from other repos.
6. Modify `build/CNAME` to your custom domain.
7. [utteranc.es/](https://utteranc.es/) is embedded in each post, you may need to install it. (Or remove it by modifying `write_comments()` in `build/2_isues_to_posts.py`)

## Thanks to

- [Hexo](https://hexo.io/)
- [maupassant-hexo](https://github.com/tufu9441/maupassant-hexo)
- [utteranc.es/](https://utteranc.es/)
